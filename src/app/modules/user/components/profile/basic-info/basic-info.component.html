<div class="content">
    <mat-progress-bar color="accent" *ngIf="!avaible? true:null"  mode="indeterminate"></mat-progress-bar>
    <h1 class="d-flex justify-content-center align-items-center mb-2 fw-bold">Información Básica</h1>
    <form class="row mt-1 gy-5" (ngSubmit)="handleSubmit()" [formGroup]="basicInfoForm" novalidate>
        <div class="col-md-6 col-12">
            <label class="d-flex justify-content-center align-items-center">Nombre</label>
            <input
                    [attr.disabled]="loading?true:null"
                    type="text"
                    [class]="(basicInfoForm.controls['first_name'].errors && (basicInfoForm.controls['first_name'].dirty || basicInfoForm.controls['first_name'].touched)) ? 'border-danger form-control':'form-control'"
                    formControlName="first_name"
                    matTooltipClass="bg-danger" matTooltipPosition="below"
                    [matTooltip]="getError('first_name')"
                    [matTooltipDisabled]="!(basicInfoForm.controls['first_name'].errors && (basicInfoForm.controls['first_name'].dirty || basicInfoForm.controls['first_name'].touched))"
            />
        </div>
        <div class="col-md-6 col-12">
            <label class="d-flex justify-content-center align-items-center">Apellidos</label>
            <input
                    [attr.disabled]="loading?true:null"
                    type="text"
                    [class]="(basicInfoForm.controls['last_name'].errors && (basicInfoForm.controls['last_name'].dirty || basicInfoForm.controls['last_name'].touched)) ? 'border-danger form-control':'form-control'"
                    formControlName="last_name"
                    matTooltipClass="bg-danger" matTooltipPosition="below"
                    [matTooltip]="getError('last_name')"
                    [matTooltipDisabled]="!(basicInfoForm.controls['last_name'].errors && (basicInfoForm.controls['last_name'].dirty || basicInfoForm.controls['last_name'].touched))"
            />
        </div>
        <div class="col-md-6 col-12">
            <label class="d-flex justify-content-center align-items-center">Nombre de Usuario</label>
            <input
                    [attr.disabled]="loading?true:null"
                    type="text"
                    [class]="(basicInfoForm.controls['user_name'].errors && (basicInfoForm.controls['user_name'].dirty || basicInfoForm.controls['user_name'].touched)) ? 'border-danger form-control':'form-control'"
                    formControlName="user_name"
                    matTooltipClass="bg-danger" matTooltipPosition="below"
                    [matTooltip]="getError('user_name')"
                    [matTooltipDisabled]="!(basicInfoForm.controls['user_name'].errors && (basicInfoForm.controls['user_name'].dirty || basicInfoForm.controls['user_name'].touched))"
            />
        </div>
        <div class="col-md-6 col-12">
            <label class="d-flex justify-content-center align-items-center">Telefono</label>
            <input
                    [attr.disabled]="loading?true:null"
                    type="text"
                    [class]="(basicInfoForm.controls['phone'].errors && (basicInfoForm.controls['phone'].dirty || basicInfoForm.controls['phone'].touched)) ? 'border-danger form-control':'form-control'"
                    formControlName="phone"
                    matTooltipClass="bg-danger" matTooltipPosition="below"
                    [matTooltip]="getError('phone')"
                    [matTooltipDisabled]="!(basicInfoForm.controls['phone'].errors && (basicInfoForm.controls['phone'].dirty || basicInfoForm.controls['phone'].touched))"
            />
        </div>
        <div class="col-12 d-flex justify-content-center align-items-center">
            <button class="btn" [disabled]="basicInfoForm.invalid || loading">Guardar cambios</button>
        </div>
    </form>
</div>